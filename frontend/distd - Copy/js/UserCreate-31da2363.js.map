{"version":3,"file":"UserCreate-31da2363.js","sources":["../../src/views/UserCreate.vue"],"sourcesContent":["<script setup>\nimport { ref, inject } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useI18n } from 'vue-i18n'\nimport Btn from '@/components/ui/Btn.vue'\nimport Icon from '@/components/ui/Icon.vue'\nimport TextField from '@/components/ui/TextField.vue'\n\nconst { t } = useI18n()\nconst router = useRouter()\nconst api = inject('api')\nconst validate = inject('validate')\n\nconst username = ref('')\nconst email = ref('')\nconst password = ref('')\n\nconst usernameError = ref('')\nconst emailError = ref('')\nconst passwordError = ref('')\n\nfunction canSubmit() {\n  return validate.username(username.value) &&\n    validate.email(email.value) &&\n    validate.password(password.value)\n}\n\nasync function submit() {\n  if (!canSubmit()) return false\n  const id = await api.user.create(username.value, email.value, password.value)\n  router.push({ name: 'UserView', params: { id } })\n}\n</script>\n\n<template>\n  <div class=\"usercreate\">\n    <h1 v-text=\"t('users.Create')\" />\n    <form @keydown.enter=\"submit()\">\n      <text-field\n        v-model=\"username\"\n        autofocus\n        :label=\"t('users.Username')\"\n        icon=\"account\"\n        :error=\"usernameError\"\n        @blur=\"usernameError = validate.username(username) ? '' : t('errors.ErrUsernameRequirements')\"\n      />\n      <text-field\n        v-model=\"email\"\n        :label=\"t('users.Email')\"\n        type=\"email\"\n        icon=\"email\"\n        :error=\"emailError\"\n        @blur=\"emailError = validate.email(email) ? '' : t('errors.ErrEmailInvalid')\"\n      />\n      <text-field\n        v-model=\"password\"\n        :label=\"t('users.Password')\"\n        type=\"password\"\n        icon=\"lock\"\n        :error=\"passwordError\"\n        @blur=\"passwordError = validate.password(password) ? '' : t('errors.ErrPasswordRequirements')\"\n      />\n      <btn color=\"primary\" :disabled=\"!canSubmit()\" @click=\"submit()\"><icon name=\"save\" />{{ t('users.Create') }}</btn>\n    </form>\n  </div>\n</template>\n"],"names":[],"mappings":"8OAQA,KAAM,CAAE,KAAM,IACR,EAAS,IACT,EAAM,EAAO,OACb,EAAW,EAAO,YAElB,EAAW,EAAI,IACf,EAAQ,EAAI,IACZ,EAAW,EAAI,IAEf,EAAgB,EAAI,IACpB,EAAa,EAAI,IACjB,EAAgB,EAAI,IAE1B,YAAqB,CACnB,MAAO,GAAS,SAAS,EAAS,QAChC,EAAS,MAAM,EAAM,QACrB,EAAS,SAAS,EAAS,OAG/B,kBAAwB,CACtB,GAAI,CAAC,IAAa,MAAO,GACzB,KAAM,GAAK,KAAM,GAAI,KAAK,OAAO,EAAS,MAAO,EAAM,MAAO,EAAS,OACvE,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE"}