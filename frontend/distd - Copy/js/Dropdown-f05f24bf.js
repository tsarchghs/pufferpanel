var tt=Object.defineProperty;var Ne=Object.getOwnPropertySymbols;var ut=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var He=(e,u,t)=>u in e?tt(e,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[u]=t,Q=(e,u)=>{for(var t in u||(u={}))ut.call(u,t)&&He(e,t,u[t]);if(Ne)for(var t of Ne(u))at.call(u,t)&&He(e,t,u[t]);return e};import{o as w,A as V,x as h,P as je,F as fe,v as ge,j as R,C as x,t as Y,Q as ne,r as W,S as A,w as De,G as xe,N as nt,T as Ge,h as Ae,q as lt,U as rt,B as it,V as ot,W as st,n as $e}from"./vendor-943aface.js";import{f as ct,e as vt,m as dt}from"./index-b96ce60d.js";function Z(e){return[null,void 0,!1].indexOf(e)!==-1}function We(e){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return u?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim()}function Be(e){return(Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(e)}function Ke(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);u&&(l=l.filter(function(q){return Object.getOwnPropertyDescriptor(e,q).enumerable})),t.push.apply(t,l)}return t}function Ue(e){for(var u=1;u<arguments.length;u++){var t=arguments[u]!=null?arguments[u]:{};u%2?Ke(Object(t),!0).forEach(function(l){K(e,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ke(Object(t)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))})}return e}function K(e,u,t){return u in e?Object.defineProperty(e,u,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[u]=t,e}function pt(e,u,t){var l=ne(e),q=l.options,D=l.mode,r=l.trackBy,_=l.limit,y=l.hideSelected,O=l.createTag,T=l.label,le=l.appendNewTag,P=l.multipleLabel,B=l.object,d=l.loading,n=l.delay,s=l.resolveOnLoad,v=l.minChars,p=l.filterResults,f=l.clearOnSearch,F=l.clearOnSelect,c=l.valueProp,L=l.canDeselect,E=l.max,ee=l.strict,U=l.closeOnSelect,G=l.groups,N=(l.groupLabel,l.groupOptions),S=l.groupHideEmpty,$=l.groupSelect,g=t.iv,z=t.ev,C=t.search,M=t.clearSearch,I=t.update,te=t.pointer,me=t.clearPointer,se=t.blur,ye=t.deactivate,re=W([]),J=W([]),ue=W(!1),X=A(function(){if(G.value){var a=J.value||[],i=[];return a.forEach(function(k){we(k[N.value]).forEach(function(j){i.push(Object.assign({},j,k.disabled?{disabled:!0}:{}))})}),i}var m=we(J.value||[]);return re.value.length&&(m=m.concat(re.value)),m}),Oe=A(function(){return G.value?et((J.value||[]).map(function(a){var i,m=we(a[N.value]);return Ue(Ue({},a),{},(K(i={group:!0},N.value,ke(m,!1).map(function(k){return Object.assign({},k,a.disabled?{disabled:!0}:{})})),K(i,"__VISIBLE__",ke(m).map(function(k){return Object.assign({},k,a.disabled?{disabled:!0}:{})})),i))})):[]}),ce=A(function(){var a=X.value;return b.value.length&&(a=b.value.concat(a)),a=ke(a),_.value>0&&(a=a.slice(0,_.value)),a}),ve=A(function(){switch(D.value){case"single":return!Z(g.value[c.value]);case"multiple":case"tags":return!Z(g.value)&&g.value.length>0}}),de=A(function(){return P!==void 0&&P.value!==void 0?P.value(g.value):g.value&&g.value.length>1?"".concat(g.value.length," options selected"):"1 option selected"}),Se=A(function(){return!X.value.length&&!ue.value&&!b.value.length}),o=A(function(){return X.value.length>0&&ce.value.length==0&&(C.value&&G.value||!G.value)}),b=A(function(){var a;return O.value!==!1&&C.value?Xe(C.value)!==-1?[]:[(a={},K(a,c.value,C.value),K(a,T.value,C.value),K(a,r.value,C.value),a)]:[]}),H=A(function(){switch(D.value){case"single":return null;case"multiple":case"tags":return[]}}),be=A(function(){return d.value||ue.value}),he=function(a){switch(Be(a)!=="object"&&(a=ae(a)),D.value){case"single":I(a);break;case"multiple":case"tags":I(g.value.concat(a))}u.emit("select",Ve(a),a)},pe=function(a){switch(Be(a)!=="object"&&(a=ae(a)),D.value){case"single":Re();break;case"tags":case"multiple":I(Array.isArray(a)?g.value.filter(function(i){return a.map(function(m){return m[c.value]}).indexOf(i[c.value])===-1}):g.value.filter(function(i){return i[c.value]!=a[c.value]}))}u.emit("deselect",Ve(a),a)},Ve=function(a){return B.value?a:a[c.value]},Me=function(a){pe(a)},Re=function(){u.emit("clear"),I(H.value)},ie=function(a){if(a.group!==void 0)return D.value!=="single"&&Je(a[N.value])&&a[N.value].length;switch(D.value){case"single":return!Z(g.value)&&g.value[c.value]==a[c.value];case"tags":case"multiple":return!Z(g.value)&&g.value.map(function(i){return i[c.value]}).indexOf(a[c.value])!==-1}},Ee=function(a){return a.disabled===!0},Pe=function(){return!(E===void 0||E.value===-1||!ve.value&&E.value>0)&&g.value.length>=E.value},Qe=function(a){return a.find(function(i){return!ie(i)&&!i.disabled})===void 0},Je=function(a){return a.find(function(i){return!ie(i)})===void 0},ae=function(a){return X.value[X.value.map(function(i){return String(i[c.value])}).indexOf(String(a))]},Xe=function(a){return X.value.map(function(i){return i[r.value]}).indexOf(a)},Ye=function(a){return["tags","multiple"].indexOf(D.value)!==-1&&y.value&&ie(a)},Ze=function(a){re.value.push(a)},et=function(a){return S.value?a.filter(function(i){return C.value?i.__VISIBLE__.length:i[N.value].length}):a.filter(function(i){return!C.value||i.__VISIBLE__.length})},ke=function(a){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],m=a;return C.value&&p.value&&(m=m.filter(function(k){return We(k[r.value],ee.value).indexOf(We(C.value,ee.value))!==-1})),y.value&&i&&(m=m.filter(function(k){return!Ye(k)})),m},we=function(a){var i,m=a;return i=m,Object.prototype.toString.call(i)==="[object Object]"&&(m=Object.keys(m).map(function(k){var j,oe=m[k];return K(j={},c.value,k),K(j,r.value,oe),K(j,T.value,oe),j})),m=m.map(function(k){var j;return Be(k)==="object"?k:(K(j={},c.value,k),K(j,r.value,k),K(j,T.value,k),j)})},Ce=function(){Z(z.value)||(g.value=Fe(z.value))},Le=function(a){ue.value=!0,q.value(C.value).then(function(i){J.value=i,typeof a=="function"&&a(i),ue.value=!1})},Fe=function(a){return Z(a)?D.value==="single"?{}:[]:B.value?a:D.value==="single"?ae(a)||{}:a.filter(function(i){return!!ae(i)}).map(function(i){return ae(i)})};if(D.value!=="single"&&!Z(z.value)&&!Array.isArray(z.value))throw new Error('v-model must be an array when using "'.concat(D.value,'" mode'));return q&&typeof q.value=="function"?s.value?Le(Ce):B.value==1&&Ce():(J.value=q.value,Ce()),n.value>-1&&De(C,function(a){a.length<v.value||(ue.value=!0,f.value&&(J.value=[]),setTimeout(function(){a==C.value&&q.value(C.value).then(function(i){a==C.value&&(J.value=i,te.value=ce.value.filter(function(m){return m.disabled!==!0})[0]||null,ue.value=!1)})},n.value))},{flush:"sync"}),De(z,function(a){var i,m,k;if(Z(a))g.value=Fe(a);else switch(D.value){case"single":(B.value?a[c.value]!=g.value[c.value]:a!=g.value[c.value])&&(g.value=Fe(a));break;case"multiple":case"tags":i=B.value?a.map(function(j){return j[c.value]}):a,m=g.value.map(function(j){return j[c.value]}),k=m.slice().sort(),i.length===m.length&&i.slice().sort().every(function(j,oe){return j===k[oe]})||(g.value=Fe(a))}},{deep:!0}),typeof e.options!="function"&&De(q,function(a,i){J.value=e.options,Object.keys(g.value).length||Ce(),function(){if(ve.value)if(D.value==="single"){var m=ae(g.value[c.value])[T.value];g.value[T.value]=m,B.value&&(z.value[T.value]=m)}else g.value.forEach(function(k,j){var oe=ae(g.value[j][c.value])[T.value];g.value[j][T.value]=oe,B.value&&(z.value[j][T.value]=oe)})}()}),{fo:ce,filteredOptions:ce,hasSelected:ve,multipleLabelText:de,eo:X,extendedOptions:X,fg:Oe,filteredGroups:Oe,noOptions:Se,noResults:o,resolving:ue,busy:be,select:he,deselect:pe,remove:Me,clear:Re,isSelected:ie,isDisabled:Ee,isMax:Pe,getOption:ae,handleOptionClick:function(a){if(!Ee(a)){switch(D.value){case"single":if(ie(a))return void(L.value&&pe(a));se(),he(a);break;case"multiple":if(ie(a))return void pe(a);if(Pe())return;he(a),F.value&&M(),y.value&&me(),U.value&&se();break;case"tags":if(ie(a))return void pe(a);if(Pe())return;ae(a[c.value])===void 0&&O.value&&(u.emit("tag",a[c.value]),le.value&&Ze(a),M()),F.value&&M(),he(a),y.value&&me(),U.value&&se()}U.value&&ye()}},handleGroupClick:function(a){if(!Ee(a)&&D.value!=="single"&&$.value){switch(D.value){case"multiple":case"tags":Qe(a[N.value])?pe(a[N.value]):he(a[N.value].filter(function(i){return g.value.map(function(m){return m[c.value]}).indexOf(i[c.value])===-1}).filter(function(i){return!i.disabled}).filter(function(i,m){return g.value.length+1+m<=E.value||E.value===-1}))}U.value&&ye()}},handleTagRemove:function(a,i){i.button===0?Me(a):i.preventDefault()},refreshOptions:function(a){Le(a)},resolveOptions:Le}}function qe(e){return function(u){if(Array.isArray(u))return _e(u)}(e)||function(u){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(u))return Array.from(u)}(e)||function(u,t){if(!!u){if(typeof u=="string")return _e(u,t);var l=Object.prototype.toString.call(u).slice(8,-1);if(l==="Object"&&u.constructor&&(l=u.constructor.name),l==="Map"||l==="Set")return Array.from(u);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return _e(u,t)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _e(e,u){(u==null||u>e.length)&&(u=e.length);for(var t=0,l=new Array(u);t<u;t++)l[t]=e[t];return l}function ft(e){return function(u){if(Array.isArray(u))return Te(u)}(e)||function(u){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(u))return Array.from(u)}(e)||function(u,t){if(!!u){if(typeof u=="string")return Te(u,t);var l=Object.prototype.toString.call(u).slice(8,-1);if(l==="Object"&&u.constructor&&(l=u.constructor.name),l==="Map"||l==="Set")return Array.from(u);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Te(u,t)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Te(e,u){(u==null||u>e.length)&&(u=e.length);for(var t=0,l=new Array(u);t<u;t++)l[t]=e[t];return l}function ze(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);u&&(l=l.filter(function(q){return Object.getOwnPropertyDescriptor(e,q).enumerable})),t.push.apply(t,l)}return t}function gt(e,u,t){return u in e?Object.defineProperty(e,u,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[u]=t,e}function mt(e,u,t){var l=ne(e),q=l.disabled,D=l.openDirection,r=l.showOptions,_=t.isOpen,y=t.isPointed,O=t.isSelected,T=t.isDisabled,le=t.isActive,P=t.canPointGroups,B=t.resolving,d=t.fo,n=function(v){for(var p=1;p<arguments.length;p++){var f=arguments[p]!=null?arguments[p]:{};p%2?ze(Object(f),!0).forEach(function(F){gt(v,F,f[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(f)):ze(Object(f)).forEach(function(F){Object.defineProperty(v,F,Object.getOwnPropertyDescriptor(f,F))})}return v}({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},l.classes.value),s=A(function(){return!!(_.value&&r.value&&(!B.value||B.value&&d.value.length))});return{classList:A(function(){return{container:[n.container].concat(q.value?n.containerDisabled:[]).concat(s.value&&D.value==="top"?n.containerOpenTop:[]).concat(s.value&&D.value!=="top"?n.containerOpen:[]).concat(le.value?n.containerActive:[]),spacer:n.spacer,singleLabel:n.singleLabel,multipleLabel:n.multipleLabel,search:n.search,tags:n.tags,tag:[n.tag].concat(q.value?n.tagDisabled:[]),tagRemove:n.tagRemove,tagRemoveIcon:n.tagRemoveIcon,tagsSearchWrapper:n.tagsSearchWrapper,tagsSearch:n.tagsSearch,tagsSearchCopy:n.tagsSearchCopy,placeholder:n.placeholder,caret:[n.caret].concat(_.value?n.caretOpen:[]),clear:n.clear,clearIcon:n.clearIcon,spinner:n.spinner,dropdown:[n.dropdown].concat(D.value==="top"?n.dropdownTop:[]).concat(_.value&&r.value&&s.value?[]:n.dropdownHidden),options:[n.options].concat(D.value==="top"?n.optionsTop:[]),group:n.group,groupLabel:function(v){var p=[n.groupLabel];return y(v)?p.push(O(v)?n.groupLabelSelectedPointed:n.groupLabelPointed):O(v)&&P.value?p.push(T(v)?n.groupLabelSelectedDisabled:n.groupLabelSelected):T(v)&&p.push(n.groupLabelDisabled),P.value&&p.push(n.groupLabelPointable),p},groupOptions:n.groupOptions,option:function(v,p){var f=[n.option];return y(v)?f.push(O(v)?n.optionSelectedPointed:n.optionPointed):O(v)?f.push(T(v)?n.optionSelectedDisabled:n.optionSelected):(T(v)||p&&T(p))&&f.push(n.optionDisabled),f},noOptions:n.noOptions,noResults:n.noResults,fakeInput:n.fakeInput}}),showDropdown:s}}var Ie={name:"Multiselect",emits:["open","close","select","deselect","input","search-change","tag","update:modelValue","change","clear"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:"label"},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:!1},appendNewTag:{type:Boolean,required:!1,default:!0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},addTagOn:{type:Array,required:!1,default:()=>["enter"]},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"}},setup(e,u){const t=function(P,B){var d=ne(P),n=d.value,s=d.modelValue,v=d.mode,p=d.valueProp,f=W(v.value!=="single"?[]:{}),F=B.expose!==void 0?s:n,c=A(function(){return v.value==="single"?f.value[p.value]:f.value.map(function(E){return E[p.value]})}),L=A(function(){return v.value!=="single"?f.value.map(function(E){return E[p.value]}).join(","):f.value[p.value]});return{iv:f,internalValue:f,ev:F,externalValue:F,textValue:L,plainValue:c}}(e,u),l=function(P,B,d){var n=ne(P),s=n.groupSelect,v=n.mode,p=n.groups,f=W(null),F=function(c){c===void 0||c!==null&&c.disabled||p.value&&c&&c.group&&(v.value==="single"||!s.value)||(f.value=c)};return{pointer:f,setPointer:F,clearPointer:function(){F(null)}}}(e),q=function(P,B,d){var n=ne(P).disabled,s=W(!1);return{isOpen:s,open:function(){s.value||n.value||(s.value=!0,B.emit("open"))},close:function(){s.value&&(s.value=!1,B.emit("close"))}}}(e,u),D=function(P,B,d){var n=W(null),s=W(null);return De(n,function(v){B.emit("search-change",v)}),{search:n,input:s,clearSearch:function(){n.value=""},handleSearchInput:function(v){n.value=v.target.value},handlePaste:function(v){B.emit("paste",v)}}}(0,u),r=function(P,B,d){var n=ne(P),s=n.object,v=n.valueProp,p=n.mode,f=d.iv,F=function(L){return s.value||Z(L)?L:Array.isArray(L)?L.map(function(E){return E[v.value]}):L[v.value]},c=function(L){return Z(L)?p.value==="single"?{}:[]:L};return{update:function(L){f.value=c(L);var E=F(L);B.emit("change",E),B.emit("input",E),B.emit("update:modelValue",E)}}}(e,u,{iv:t.iv}),_=function(P,B,d){var n=ne(P),s=n.searchable,v=n.disabled,p=d.input,f=d.open,F=d.close,c=d.clearSearch,L=W(null),E=W(!1),ee=A(function(){return s.value||v.value?-1:0}),U=function(){s.value&&p.value.blur(),L.value.blur()},G=function(){E.value=!1,setTimeout(function(){E.value||(F(),c())},1)};return{multiselect:L,tabindex:ee,isActive:E,blur:U,handleFocus:function(){s.value&&!v.value&&p.value.focus()},activate:function(){v.value||(E.value=!0,f())},deactivate:G,handleCaretClick:function(){G(),U()}}}(e,0,{input:D.input,open:q.open,close:q.close,clearSearch:D.clearSearch}),y=pt(e,u,{ev:t.ev,iv:t.iv,search:D.search,clearSearch:D.clearSearch,update:r.update,pointer:l.pointer,clearPointer:l.clearPointer,blur:_.blur,deactivate:_.deactivate}),O=function(P,B,d){var n=ne(P),s=n.valueProp,v=n.showOptions,p=n.searchable,f=n.groupLabel,F=n.groups,c=n.mode,L=n.groupSelect,E=d.fo,ee=d.fg,U=d.handleOptionClick,G=d.handleGroupClick,N=d.search,S=d.pointer,$=d.setPointer,g=d.clearPointer,z=d.multiselect,C=A(function(){return E.value.filter(function(o){return!o.disabled})}),M=A(function(){return ee.value.filter(function(o){return!o.disabled})}),I=A(function(){return c.value!=="single"&&L.value}),te=A(function(){return S.value&&S.value.group}),me=A(function(){return de(S.value)}),se=A(function(){var o=te.value?S.value:de(S.value),b=M.value.map(function(be){return be[f.value]}).indexOf(o[f.value]),H=M.value[b-1];return H===void 0&&(H=re.value),H}),ye=A(function(){var o=M.value.map(function(b){return b.label}).indexOf(te.value?S.value[f.value]:de(S.value)[f.value])+1;return M.value.length<=o&&(o=0),M.value[o]}),re=A(function(){return qe(M.value).slice(-1)[0]}),J=A(function(){return S.value.__VISIBLE__.filter(function(o){return!o.disabled})[0]}),ue=A(function(){var o=me.value.__VISIBLE__.filter(function(b){return!b.disabled});return o[o.map(function(b){return b[s.value]}).indexOf(S.value[s.value])-1]}),X=A(function(){var o=de(S.value).__VISIBLE__.filter(function(b){return!b.disabled});return o[o.map(function(b){return b[s.value]}).indexOf(S.value[s.value])+1]}),Oe=A(function(){return qe(se.value.__VISIBLE__.filter(function(o){return!o.disabled})).slice(-1)[0]}),ce=A(function(){return qe(re.value.__VISIBLE__.filter(function(o){return!o.disabled})).slice(-1)[0]}),ve=function(){$(C.value[0]||null)},de=function(o){return M.value.find(function(b){return b.__VISIBLE__.map(function(H){return H[s.value]}).indexOf(o[s.value])!==-1})},Se=function(){var o=z.value.querySelector("[data-pointed]");if(o){var b=o.parentElement.parentElement;F.value&&(b=te.value?o.parentElement.parentElement.parentElement:o.parentElement.parentElement.parentElement.parentElement),o.offsetTop+o.offsetHeight>b.clientHeight+b.scrollTop&&(b.scrollTop=o.offsetTop+o.offsetHeight-b.clientHeight),o.offsetTop<b.scrollTop&&(b.scrollTop=o.offsetTop)}};return De(N,function(o){p.value&&(o.length&&v.value?ve():g())}),{pointer:S,canPointGroups:I,isPointed:function(o){return!(!S.value||!(!o.group&&S.value[s.value]==o[s.value]||o.group!==void 0&&S.value[f.value]==o[f.value]))||void 0},setPointerFirst:ve,selectPointer:function(){S.value&&S.value.disabled!==!0&&(te.value?G(S.value):U(S.value))},forwardPointer:function(){if(S.value===null)$((F.value&&I.value?M.value[0]:C.value[0])||null);else if(F.value&&I.value){var o=te.value?J.value:X.value;o===void 0&&(o=ye.value),$(o||null)}else{var b=C.value.map(function(H){return H[s.value]}).indexOf(S.value[s.value])+1;C.value.length<=b&&(b=0),$(C.value[b]||null)}xe(function(){Se()})},backwardPointer:function(){if(S.value===null){var o=C.value[C.value.length-1];F.value&&I.value&&(o=ce.value)===void 0&&(o=re.value),$(o||null)}else if(F.value&&I.value){var b=te.value?Oe.value:ue.value;b===void 0&&(b=te.value?se.value:me.value),$(b||null)}else{var H=C.value.map(function(be){return be[s.value]}).indexOf(S.value[s.value])-1;H<0&&(H=C.value.length-1),$(C.value[H]||null)}xe(function(){Se()})}}}(e,0,{fo:y.fo,fg:y.fg,handleOptionClick:y.handleOptionClick,handleGroupClick:y.handleGroupClick,search:D.search,pointer:l.pointer,setPointer:l.setPointer,clearPointer:l.clearPointer,multiselect:_.multiselect}),T=function(P,B,d){var n=ne(P),s=n.mode,v=n.addTagOn,p=n.createTag,f=n.openDirection,F=n.searchable,c=n.showOptions,L=n.valueProp,E=n.groups,ee=d.iv,U=d.update,G=d.search,N=d.setPointer,S=d.selectPointer,$=d.backwardPointer,g=d.forwardPointer,z=d.blur,C=d.fo,M=function(){s.value==="tags"&&!c.value&&p.value&&F.value&&!E.value&&N(C.value[C.value.map(function(I){return I[L.value]}).indexOf(G.value)])};return{handleKeydown:function(I){switch(I.keyCode){case 8:if(s.value==="single"||F.value&&[null,""].indexOf(G.value)===-1||ee.value.length===0)return;U(ft(ee.value).slice(0,-1));break;case 13:if(I.preventDefault(),s.value==="tags"&&v.value.indexOf("enter")===-1&&p.value)return;M(),S();break;case 32:if(F.value&&s.value!=="tags"&&!p.value||s.value==="tags"&&(v.value.indexOf("space")===-1&&p.value||!p.value))return;I.preventDefault(),M(),S();break;case 9:case 186:case 188:if(s.value!=="tags"||v.value.indexOf({9:"tab",186:";",188:","}[I.keyCode])===-1||!p.value)return;M(),S(),I.preventDefault();break;case 27:z();break;case 38:if(I.preventDefault(),!c.value)return;f.value==="top"?g():$();break;case 40:if(I.preventDefault(),!c.value)return;f.value==="top"?$():g()}},preparePointer:M}}(e,0,{iv:t.iv,update:r.update,search:D.search,setPointer:l.setPointer,selectPointer:O.selectPointer,backwardPointer:O.backwardPointer,forwardPointer:O.forwardPointer,blur:_.blur,fo:y.fo}),le=mt(e,0,{isOpen:q.isOpen,isPointed:O.isPointed,canPointGroups:O.canPointGroups,isSelected:y.isSelected,isDisabled:y.isDisabled,isActive:_.isActive,resolving:y.resolving,fo:y.fo});return Q(Q(Q(Q(Q(Q(Q(Q(Q(Q({},t),q),_),l),r),D),y),O),T),le)}};Ie.render=function(e,u,t,l,q,D){return w(),V("div",{ref:"multiselect",tabindex:e.tabindex,class:e.classList.container,id:t.id,onFocusin:u[7]||(u[7]=(...r)=>e.activate&&e.activate(...r)),onFocusout:u[8]||(u[8]=(...r)=>e.deactivate&&e.deactivate(...r)),onKeydown:u[9]||(u[9]=(...r)=>e.handleKeydown&&e.handleKeydown(...r)),onFocus:u[10]||(u[10]=(...r)=>e.handleFocus&&e.handleFocus(...r))},[h(" Search "),t.mode!=="tags"&&t.searchable&&!t.disabled?(w(),V("input",{key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:t.autocomplete,onInput:u[1]||(u[1]=(...r)=>e.handleSearchInput&&e.handleSearchInput(...r)),onPaste:u[2]||(u[2]=je((...r)=>e.handlePaste&&e.handlePaste(...r),["stop"])),ref:"input"},null,42,["type","modelValue","value","autocomplete"])):h("v-if",!0),h(" Tags (with search) "),t.mode=="tags"?(w(),V("div",{key:1,class:e.classList.tags},[(w(!0),V(fe,null,ge(e.iv,(r,_,y)=>R(e.$slots,"tag",{option:r,handleTagRemove:e.handleTagRemove,disabled:t.disabled},()=>[(w(),V("span",{class:e.classList.tag,key:y},[nt(Y(r[t.label])+" ",1),t.disabled?h("v-if",!0):(w(),V("span",{key:0,class:e.classList.tagRemove,onMousedown:je(O=>e.handleTagRemove(r,O),["prevent"])},[x("span",{class:e.classList.tagRemoveIcon},null,2)],42,["onMousedown"]))],2))])),256)),x("div",{class:e.classList.tagsSearchWrapper},[h(" Used for measuring search width "),x("span",{class:e.classList.tagsSearchCopy},Y(e.search),3),h(" Actual search input "),t.searchable&&!t.disabled?(w(),V("input",{key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,autocomplete:t.autocomplete,onInput:u[3]||(u[3]=(...r)=>e.handleSearchInput&&e.handleSearchInput(...r)),onPaste:u[4]||(u[4]=je((...r)=>e.handlePaste&&e.handlePaste(...r),["stop"])),ref:"input"},null,42,["type","modelValue","value","autocomplete"])):h("v-if",!0)],2)],2)):h("v-if",!0),h(" Single label "),t.mode=="single"&&e.hasSelected&&!e.search&&e.iv?R(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[x("div",{class:e.classList.singleLabel},Y(e.iv[t.label]),3)]):h("v-if",!0),h(" Multiple label "),t.mode=="multiple"&&e.hasSelected&&!e.search?R(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[x("div",{class:e.classList.multipleLabel},Y(e.multipleLabelText),3)]):h("v-if",!0),h(" Placeholder "),!t.placeholder||e.hasSelected||e.search?h("v-if",!0):R(e.$slots,"placeholder",{key:4},()=>[x("div",{class:e.classList.placeholder},Y(t.placeholder),3)]),h(" Spinner "),e.busy?R(e.$slots,"spinner",{key:5},()=>[x("span",{class:e.classList.spinner},null,2)]):h("v-if",!0),h(" Clear "),e.hasSelected&&!t.disabled&&t.canClear&&!e.busy?R(e.$slots,"clear",{key:6,clear:e.clear},()=>[x("span",{class:e.classList.clear,onMousedown:u[5]||(u[5]=(...r)=>e.clear&&e.clear(...r))},[x("span",{class:e.classList.clearIcon},null,2)],34)]):h("v-if",!0),h(" Caret "),t.caret?R(e.$slots,"caret",{key:7},()=>[x("span",{class:e.classList.caret,onClick:u[6]||(u[6]=(...r)=>e.handleCaretClick&&e.handleCaretClick(...r))},null,2)]):h("v-if",!0),h(" Options "),x("div",{class:e.classList.dropdown,tabindex:"-1"},[R(e.$slots,"beforelist",{options:e.fo}),x("ul",{class:e.classList.options},[t.groups?(w(!0),V(fe,{key:0},ge(e.fg,(r,_,y)=>(w(),V("li",{class:e.classList.group,key:y},[x("div",{class:e.classList.groupLabel(r),"data-pointed":e.isPointed(r),onMouseenter:O=>e.setPointer(r),onClick:O=>e.handleGroupClick(r)},[R(e.$slots,"grouplabel",{group:r},()=>[x("span",null,Y(r[t.groupLabel]),1)])],42,["data-pointed","onMouseenter","onClick"]),x("ul",{class:e.classList.groupOptions},[(w(!0),V(fe,null,ge(r.__VISIBLE__,(O,T,le)=>(w(),V("li",{class:e.classList.option(O,r),key:le,"data-pointed":e.isPointed(O),onMouseenter:P=>e.setPointer(O),onClick:P=>e.handleOptionClick(O)},[R(e.$slots,"option",{option:O,search:e.search},()=>[x("span",null,Y(O[t.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2)],2))),128)):(w(!0),V(fe,{key:1},ge(e.fo,(r,_,y)=>(w(),V("li",{class:e.classList.option(r),key:y,"data-pointed":e.isPointed(r),onMouseenter:O=>e.setPointer(r),onClick:O=>e.handleOptionClick(r)},[R(e.$slots,"option",{option:r,search:e.search},()=>[x("span",null,Y(r[t.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2),e.noOptions?R(e.$slots,"nooptions",{key:0},()=>[x("div",{class:e.classList.noOptions,innerHTML:t.noOptionsText},null,10,["innerHTML"])]):h("v-if",!0),e.noResults?R(e.$slots,"noresults",{key:1},()=>[x("div",{class:e.classList.noResults,innerHTML:t.noResultsText},null,10,["innerHTML"])]):h("v-if",!0),R(e.$slots,"afterlist",{options:e.fo})],2),h(" Hacky input element to show HTML5 required warning "),t.required?(w(),V("input",{key:8,class:e.classList.fakeInput,tabindex:"-1",value:e.textValue,required:""},null,10,["value"])):h("v-if",!0),h(" Native input support "),t.nativeSupport?(w(),V(fe,{key:9},[t.mode=="single"?(w(),V("input",{key:0,type:"hidden",name:t.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,["name","value"])):(w(!0),V(fe,{key:1},ge(e.plainValue,(r,_)=>(w(),V("input",{type:"hidden",name:`${t.name}[]`,value:r,key:_},null,8,["name","value"]))),128))],64)):h("v-if",!0),h(" Create height for empty input "),x("div",{class:e.classList.spacer},null,2)],42,["tabindex","id"])},Ie.__file="src/Multiselect.vue";const bt={components:{Icon:vt,Multiselect:Ie},props:{id:{type:String,default:()=>(Math.random()+1).toString(36).substring(2)},label:{type:String,default:()=>{}},labelProp:{type:String,default:()=>"label"},error:{type:String,default:()=>{}},hint:{type:String,default:()=>{}},object:{type:Boolean,default:()=>!1},options:{type:Array,default:()=>[]},type:{type:String,default:()=>"text"},icon:{type:String,default:()=>{}},modelValue:{type:[String,Number,Object],default:()=>""}},emits:["update:modelValue","change"],setup(){const e=W(null),u=W(!1);function t(l){xe(()=>e.value.select(l))}return{isOpen:u,ms:e,select:t,markdown:dt}}},ht={class:"dropdown-wrapper"},Dt=["for"],yt=["textContent"],Ot=["innerHTML"];function St(e,u,t,l,q,D){const r=Ge("icon"),_=Ge("multiselect");return w(),Ae("div",ht,[lt("div",{class:$e(["dropdown",t.error?"error":""])},[t.icon?(w(),V(r,{key:0,class:"pre",name:t.icon},null,8,["name"])):h("",!0),x(_,{id:t.id,ref:"ms","model-value":t.modelValue,label:t.labelProp,mode:"single","can-deselect":!1,"can-clear":!1,options:t.options,object:t.object,placeholder:t.label,onInput:u[0]||(u[0]=y=>{e.$emit("update:modelValue",y),e.$emit("change",y)}),onOpen:u[1]||(u[1]=y=>e.$nextTick(()=>l.isOpen=!0)),onClose:u[2]||(u[2]=y=>l.isOpen=!1)},rt({_:2},[ge(e.$slots,(y,O)=>({name:O,fn:it(T=>[R(e.$slots,O,ot(st(T)))])}))]),1032,["id","model-value","label","options","object","placeholder"]),t.label?(w(),Ae("label",{key:1,class:$e([l.isOpen?"dropdown-open":"dropdown-closed",t.modelValue===null?"dropdown-placeholder":""]),for:t.id,onClick:u[3]||(u[3]=y=>l.ms.open())},Y(t.label),11,Dt)):h("",!0)],2),t.error?(w(),Ae("span",{key:0,class:"error",textContent:Y(t.error)},null,8,yt)):h("",!0),t.hint&&!t.error?(w(),Ae("span",{key:1,class:"hint",innerHTML:l.markdown(t.hint)},null,8,Ot)):h("",!0)])}var Bt=ct(bt,[["render",St]]);export{Bt as D,Ie as L};
//# sourceMappingURL=Dropdown-f05f24bf.js.map
