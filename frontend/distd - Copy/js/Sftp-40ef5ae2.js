import{l as j,k as B,r as l,p as H,o as m,h as f,q as e,t as o,s as n,C as u,B as w,x as $}from"./vendor-943aface.js";import{e as b,a as C}from"./index-b96ce60d.js";const I=["textContent"],N=["textContent"],S=["value"],T=["textContent"],U=["value"],V=["href"],A={props:{server:{type:Object,required:!0}},setup(k){const i=k,{t}=j(),F=B("api"),a=l(""),c=l(""),x=l(null),h=l(null),r=l(!1),p=l(!1),y=l("");H(async()=>{a.value=i.server.node.publicHost!=="127.0.0.1"?i.server.node.publicHost:window.location.hostname,a.value=a.value+":"+i.server.node.sftpPort;const _=await F.self.get();c.value=`${_.email}#${i.server.id}`,y.value=encodeURIComponent(c.value)});function P(){x.value.select(),document.execCommand("copy"),p.value=!1,r.value=!0,setTimeout(()=>{r.value=!1},6e3)}function g(){h.value.select(),document.execCommand("copy"),r.value=!1,p.value=!0,setTimeout(()=>{p.value=!1},6e3)}return(_,d)=>(m(),f("div",null,[e("h2",{textContent:o(n(t)("servers.SFTPInfo"))},null,8,I),e("div",null,[e("b",null,o(n(t)("common.Host"))+"/"+o(n(t)("common.Port"))+": ",1),e("span",null,o(a.value),1),u(C,{variant:"icon",tooltip:n(t)("common.Copy"),onClick:d[0]||(d[0]=s=>P())},{default:w(()=>[u(b,{name:"copy"})]),_:1},8,["tooltip"]),r.value?(m(),f("span",{key:0,class:"copied",textContent:o(n(t)("common.Copied"))},null,8,N)):$("",!0)]),e("input",{ref:(s,v)=>{v.hostField=s,x.value=s},value:a.value,style:{width:"1px",height:"1px",position:"fixed",left:"-100vw"}},null,8,S),e("div",null,[e("b",null,o(n(t)("users.Username"))+": ",1),e("span",null,o(c.value),1),u(C,{variant:"icon",tooltip:n(t)("common.Copy"),onClick:d[1]||(d[1]=s=>g())},{default:w(()=>[u(b,{name:"copy"})]),_:1},8,["tooltip"]),p.value?(m(),f("span",{key:0,class:"copied",textContent:o(n(t)("common.Copied"))},null,8,T)):$("",!0)]),e("input",{ref:(s,v)=>{v.userField=s,h.value=s},value:c.value,style:{width:"1px",height:"1px",position:"fixed",left:"-100vw"}},null,8,U),e("div",null,[e("b",null,o(n(t)("users.Password"))+": ",1),e("span",null,o(n(t)("users.AccountPassword")),1)]),e("a",{href:`sftp://${y.value}@${a.value}`},[u(C,{color:"primary",textContent:o(n(t)("servers.SftpConnection"))},null,8,["textContent"])],8,V)]))}};export{A as default};
//# sourceMappingURL=Sftp-40ef5ae2.js.map
