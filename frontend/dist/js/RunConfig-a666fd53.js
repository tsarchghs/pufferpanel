var $e=Object.defineProperty,_e=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var de=(y,m,c)=>m in y?$e(y,m,{enumerable:!0,configurable:!0,writable:!0,value:c}):y[m]=c,X=(y,m)=>{for(var c in m||(m={}))Se.call(m,c)&&de(y,c,m[c]);if(ie)for(var c of ie(m))Ue.call(m,c)&&de(y,c,m[c]);return y},re=(y,m)=>_e(y,xe(m));import{l as z,r as N,S as me,K as Q,o as v,h as $,q as k,t as g,s as u,F as P,v as R,C as t,B as p,P as L,x as D,N as J,A as B,n as ve,p as Ae}from"./vendor-943aface.js";import{e as V,a as b,_ as G,b as W}from"./index-b96ce60d.js";import{D as Y}from"./Dropdown-f05f24bf.js";import{a as pe}from"./EnvironmentConfig-793daa60.js";import{_ as Z}from"./Toggle-edd22afa.js";import{_ as Oe}from"./Ace-74f6f60f.js";import{_ as Ne}from"./Suggestion-7a5f46c0.js";const we={class:"variables"},Ee=["textContent"],Ge={key:0},Je={class:"group-header"},je={class:"title"},De=["textContent"],Ie=["textContent"],qe={class:"list"},Fe=["onClick"],he={class:"list-item-content"},Le=["textContent"],Te={key:0},Be={key:0},He={class:"group-header"},Pe=["textContent"],Re={class:"list"},Me=["onClick"],ze={class:"list-item-content"},Ke=["textContent"],We={key:1},Qe={class:"list"},Xe=["onClick"],Ye={class:"list-item-content"},Ze=["textContent"],el={class:"actions"},ll={class:"actions"},tl={class:"actions"},al={class:"actions"},Tl={props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(y,{emit:m}){const c=y,{t:a}=z(),e=N(JSON.parse(c.modelValue));Array.isArray(e.value.groups)&&e.value.groups.sort((s,l)=>s.order>l.order?1:-1);const d=N(!1),n=N({}),r=N(!1),f=N({display:"",description:""}),w=N(!1),_=N({}),A=N(!1),i=N({}),C=N(0),I=me(()=>Array.isArray(e.value.groups)?Object.keys(e.value.data).filter(s=>e.value.groups.map(l=>l.variables).flat().indexOf(s)===-1):Object.keys(e.value.data)),q=me(()=>(e.value.groups||[]).map(s=>({value:s.order,label:s.display})));function O(){m("update:modelValue",JSON.stringify(e.value,void 0,4))}function E(s){n.value={name:"",display:"",desc:"",type:"string",value:"",internal:!1,required:!1,userEdit:!1,options:{},group:s},d.value=!0}function j(s){C.value=s,i.value=e.value.groups[s],A.value=!0}function H(){C.value=0,i.value={},A.value=!1}function ee(){e.value.groups[C.value]=i.value,O(),H()}function M(s){if(n.value=e.value.data[s],n.value.name=s,n.value.oldName=s,n.value.display||(n.value.display=""),n.value.desc||(n.value.desc=""),n.value.type||(n.value.type="string"),n.value.value||(n.value.value=""),n.value.internal||(n.value.internal=!1),n.value.required||(n.value.required=!1),n.value.userEdit||(n.value.userEdit=!1),!n.value.options)n.value.options={};else{const l={};n.value.options.map(o=>{l[o.value]=o.display}),n.value.options=l}d.value=!0}function U(){d.value=!1,n.value={}}function x(){d.value=!1,n.value.oldName&&n.value.oldName!==n.value.name&&delete e.value.data[n.value.oldName];const s=n.value.name;if(delete n.value.name,n.value.oldName&&delete n.value.oldName,n.value.type==="boolean"||Object.keys(n.value.options).length===0)delete n.value.options;else{const l=[];Object.keys(n.value.options).map(o=>{l.push({value:o,display:n.value.options[o]})}),n.value.options=l}n.value.group!=null&&(e.value.groups=e.value.groups.map(l=>(l===n.value.group&&l.variables.push(s),l)),delete n.value.group),e.value.data[s]=n.value,n.value={},O()}function S(s){delete e.value.data[s],Array.isArray(e.value.groups)&&(e.value.groups=e.value.groups.map(l=>{const o=l.variables.filter(T=>T!==s);return re(X({},l),{variables:o})})),O()}function h(s){let l=1/0;return e.value.groups.map(o=>{o.order<l&&(l=o.order)}),l===s}function K(){let s=-1/0;return e.value.groups.map(l=>{l.order>s&&(s=l.order)}),s===-1/0?0:s}function ae(s){return K()===s}function ce(s){e.value.groups=e.value.groups.map(l=>(l.order===s?l.order=s-1:l.order===s-1&&(l.order=s),l)).sort((l,o)=>l.order>o.order?1:-1),O()}function fe(s){e.value.groups=e.value.groups.map(l=>(l.order===s?l.order=s+1:l.order===s+1&&(l.order=s),l)).sort((l,o)=>l.order>o.order?1:-1),O()}function ne(){r.value=!1,f.value.display="",f.value.description=""}function ye(){Array.isArray(e.value.groups)||(e.value.groups=[]),e.value.groups.push({variables:[],order:K()+1,display:f.value.display,description:f.value.description}),ne(),O()}function Ve(s){e.value.groups=e.value.groups.filter(l=>l!==s),O()}function oe(s,l){_.value={variable:s,currentGroup:l,selected:l?{value:l.order,label:l.display}:{}},w.value=!0}function ue(){w.value=!1,_.value={}}function be(){e.value.groups=e.value.groups.map(s=>(s===_.value.currentGroup?s.variables=s.variables.filter(l=>l!=_.value.variable):s.order===_.value.selected.value&&s.display===_.value.selected.label&&s.variables.push(_.value.variable),s)),ue(),O()}function Ce(){return n.value.name.trim()!==""}Q(()=>{try{const s=JSON.parse(c.modelValue);JSON.stringify(e.value)!==JSON.stringify(s)&&(e.value=s,Array.isArray(e.value.groups)&&e.value.groups.sort((l,o)=>l.order>o.order?1:-1))}catch{}});const ke=[{value:"string",label:a("templates.variables.types.String")},{value:"boolean",label:a("templates.variables.types.Boolean")},{value:"integer",label:a("templates.variables.types.Number")},{value:"options",label:a("templates.variables.types.Options")}],ge={string:!0,options:!0};return(s,l)=>(v(),$("div",we,[k("div",{class:"hint",textContent:g(u(a)("templates.description.Variables"))},null,8,Ee),e.value.groups&&e.value.groups.length>0?(v(),$("div",Ge,[(v(!0),$(P,null,R(e.value.groups,(o,T)=>(v(),$("div",{key:o.order},[k("div",Je,[k("div",je,[k("h3",{textContent:g(o.display)},null,8,De),k("div",{class:"hint",textContent:g(o.description)},null,8,Ie)]),t(b,{variant:"icon",tooltip:u(a)("templates.variables.EditGroup"),onClick:F=>j(T)},{default:p(()=>[t(V,{name:"edit"})]),_:2},1032,["tooltip","onClick"]),t(b,{variant:"icon",tooltip:u(a)("templates.AddVariable"),onClick:F=>E(o)},{default:p(()=>[t(V,{name:"plus"})]),_:2},1032,["tooltip","onClick"]),t(b,{disabled:h(o.order),variant:"icon",onClick:F=>ce(o.order)},{default:p(()=>[t(V,{name:"up"})]),_:2},1032,["disabled","onClick"]),t(b,{disabled:ae(o.order),variant:"icon",onClick:F=>fe(o.order)},{default:p(()=>[t(V,{name:"down"})]),_:2},1032,["disabled","onClick"]),t(b,{variant:"icon",tooltip:u(a)("templates.variables.RemoveGroup"),onClick:F=>Ve(o)},{default:p(()=>[t(V,{name:"close"})]),_:2},1032,["tooltip","onClick"])]),k("ul",qe,[(v(!0),$(P,null,R(o.variables,F=>(v(),$("li",{key:F,class:"list-item clickable",onClick:se=>M(F)},[k("div",he,[k("span",{textContent:g(e.value.data[F].display)},null,8,Le),t(b,{variant:"icon",tooltip:u(a)("templates.variables.MoveToGroup"),onClick:L(se=>oe(F,o),["stop"])},{default:p(()=>[t(V,{name:"select-group"})]),_:2},1032,["tooltip","onClick"]),t(b,{variant:"icon",tooltip:u(a)("templates.variables.Remove"),onClick:L(se=>S(F),["stop"])},{default:p(()=>[t(V,{name:"remove"})]),_:2},1032,["tooltip","onClick"])])],8,Fe))),128))]),!ae(o.order)||u(I).length>0?(v(),$("hr",Te)):D("",!0)]))),128)),u(I).length>0?(v(),$("div",Be,[k("div",He,[k("h3",{class:"title",textContent:g(u(a)("templates.NoGroup"))},null,8,Pe),t(b,{variant:"icon",onClick:l[0]||(l[0]=o=>E())},{default:p(()=>[t(V,{name:"plus"})]),_:1})]),k("ul",Re,[(v(!0),$(P,null,R(u(I),o=>(v(),$("li",{key:o,class:"list-item clickable",onClick:T=>M(o)},[k("div",ze,[k("span",{textContent:g(e.value.data[o].display)},null,8,Ke),t(b,{variant:"icon",onClick:L(T=>oe(o),["stop"])},{default:p(()=>[t(V,{name:"select-group"})]),_:2},1032,["onClick"]),t(b,{variant:"icon",onClick:L(T=>S(o),["stop"])},{default:p(()=>[t(V,{name:"remove"})]),_:2},1032,["onClick"])])],8,Me))),128))])])):D("",!0)])):(v(),$("div",We,[k("ul",Qe,[(v(!0),$(P,null,R(e.value.data,(o,T)=>(v(),$("li",{key:T,class:"list-item clickable",onClick:F=>M(T)},[k("div",Ye,[k("span",{textContent:g(o.display)},null,8,Ze),t(b,{variant:"icon",onClick:L(F=>S(T),["stop"])},{default:p(()=>[t(V,{name:"remove"})]),_:2},1032,["onClick"])])],8,Xe))),128))]),t(b,{variant:"text",onClick:l[1]||(l[1]=o=>E())},{default:p(()=>[t(V,{name:"plus"}),J(g(u(a)("templates.AddVariable")),1)]),_:1})])),t(b,{variant:"text",onClick:l[2]||(l[2]=o=>r.value=!0)},{default:p(()=>[t(V,{name:"plus"}),J(g(u(a)("templates.AddVariableGroup")),1)]),_:1}),t(W,{modelValue:d.value,"onUpdate:modelValue":l[14]||(l[14]=o=>d.value=o)},{default:p(()=>[t(G,{modelValue:n.value.name,"onUpdate:modelValue":l[3]||(l[3]=o=>n.value.name=o),label:u(a)("common.Name")},null,8,["modelValue","label"]),t(G,{modelValue:n.value.display,"onUpdate:modelValue":l[4]||(l[4]=o=>n.value.display=o),label:u(a)("templates.Display")},null,8,["modelValue","label"]),t(G,{modelValue:n.value.desc,"onUpdate:modelValue":l[5]||(l[5]=o=>n.value.desc=o),label:u(a)("templates.variables.Description")},null,8,["modelValue","label"]),t(Y,{modelValue:n.value.type,"onUpdate:modelValue":l[6]||(l[6]=o=>n.value.type=o),label:u(a)("templates.variables.Type"),options:ke},null,8,["modelValue","label"]),t(G,{modelValue:n.value.value,"onUpdate:modelValue":l[7]||(l[7]=o=>n.value.value=o),label:u(a)("templates.variables.Value")},null,8,["modelValue","label"]),t(Z,{modelValue:n.value.internal,"onUpdate:modelValue":l[8]||(l[8]=o=>n.value.internal=o),label:u(a)("templates.variables.Internal")},null,8,["modelValue","label"]),t(Z,{modelValue:n.value.required,"onUpdate:modelValue":l[9]||(l[9]=o=>n.value.required=o),label:u(a)("templates.variables.Required")},null,8,["modelValue","label"]),t(Z,{modelValue:n.value.userEdit,"onUpdate:modelValue":l[10]||(l[10]=o=>n.value.userEdit=o),label:u(a)("templates.variables.UserEdit")},null,8,["modelValue","label"]),ge[n.value.type]?(v(),B(pe,{key:0,modelValue:n.value.options,"onUpdate:modelValue":l[11]||(l[11]=o=>n.value.options=o),label:u(a)("templates.variables.Options")},null,8,["modelValue","label"])):D("",!0),k("div",el,[t(b,{color:"error",onClick:l[12]||(l[12]=o=>U())},{default:p(()=>[t(V,{name:"close"}),J(g(u(a)("common.Cancel")),1)]),_:1}),t(b,{color:"primary",disabled:!Ce(),onClick:l[13]||(l[13]=o=>x())},{default:p(()=>[t(V,{name:"check"}),J(g(u(a)("common.Apply")),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue"]),t(W,{modelValue:r.value,"onUpdate:modelValue":l[20]||(l[20]=o=>r.value=o)},{default:p(()=>[t(G,{modelValue:f.value.display,"onUpdate:modelValue":l[15]||(l[15]=o=>f.value.display=o),label:u(a)("templates.Display")},null,8,["modelValue","label"]),t(G,{modelValue:f.value.description,"onUpdate:modelValue":l[16]||(l[16]=o=>f.value.description=o),label:u(a)("templates.variables.Description")},null,8,["modelValue","label"]),t(G,{modelValue:f.value.if,"onUpdate:modelValue":l[17]||(l[17]=o=>f.value.if=o),label:u(a)("common.Condition"),hint:u(a)("templates.variables.ConditionHint")},null,8,["modelValue","label","hint"]),k("div",ll,[t(b,{color:"error",onClick:l[18]||(l[18]=o=>ne())},{default:p(()=>[t(V,{name:"close"}),J(g(u(a)("common.Cancel")),1)]),_:1}),t(b,{color:"primary",disabled:f.value.display.trim()==="",onClick:l[19]||(l[19]=o=>ye())},{default:p(()=>[t(V,{name:"check"}),J(g(u(a)("common.Apply")),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue"]),t(W,{modelValue:A.value,"onUpdate:modelValue":l[26]||(l[26]=o=>A.value=o)},{default:p(()=>[t(G,{modelValue:i.value.display,"onUpdate:modelValue":l[21]||(l[21]=o=>i.value.display=o),label:u(a)("templates.Display")},null,8,["modelValue","label"]),t(G,{modelValue:i.value.description,"onUpdate:modelValue":l[22]||(l[22]=o=>i.value.description=o),label:u(a)("templates.variables.Description")},null,8,["modelValue","label"]),t(G,{modelValue:i.value.if,"onUpdate:modelValue":l[23]||(l[23]=o=>i.value.if=o),label:u(a)("common.Condition"),hint:u(a)("templates.variables.ConditionHint")},null,8,["modelValue","label","hint"]),k("div",tl,[t(b,{color:"error",onClick:l[24]||(l[24]=o=>H())},{default:p(()=>[t(V,{name:"close"}),J(g(u(a)("common.Cancel")),1)]),_:1}),t(b,{color:"primary",disabled:i.value.display.trim()==="",onClick:l[25]||(l[25]=o=>ee())},{default:p(()=>[t(V,{name:"check"}),J(g(u(a)("common.Apply")),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue"]),t(W,{modelValue:w.value,"onUpdate:modelValue":l[30]||(l[30]=o=>w.value=o),class:"select-var-group",title:u(a)("templates.variables.MoveToGroup")},{default:p(()=>[t(Y,{modelValue:_.value.selected,"onUpdate:modelValue":l[27]||(l[27]=o=>_.value.selected=o),options:u(q),object:!0},null,8,["modelValue","options"]),k("div",al,[t(b,{color:"error",onClick:l[28]||(l[28]=o=>ue())},{default:p(()=>[t(V,{name:"close"}),J(g(u(a)("common.Cancel")),1)]),_:1}),t(b,{color:"primary",onClick:l[29]||(l[29]=o=>be())},{default:p(()=>[t(V,{name:"check"}),J(g(u(a)("common.Apply")),1)]),_:1})])]),_:1},8,["modelValue","title"])]))}};function nl(y,m){let c=0,a=X({},m);switch(m.type){case"download":return c=Array.isArray(m.files)?m.files.length:1,c===1&&(a.file=Array.isArray(m.files)?m.files[0]:m.files),y(`operators.${m.type}.formatted`,a,c);case"command":return c=Array.isArray(m.commands)?m.commands.length:1,c===1&&(a.command=Array.isArray(m.commands)?m.commands[0]:m.commands),y(`operators.${m.type}.formatted`,a,c);default:return y(`operators.${m.type}.formatted`,a,c)}}const le={download:[{name:"files",type:"list",default:[]}],command:[{name:"commands",type:"list",default:[]}],alterfile:[{name:"file",type:"text",label:"templates.Filename",default:""},{name:"regex",type:"boolean",default:!0},{name:"search",type:"text",default:""},{name:"replace",type:"text",default:""}],writefile:[{name:"target",type:"text",label:"templates.Filename",default:""},{name:"text",type:"textarea",modeFile:"target",default:""}],move:[{name:"source",type:"text",default:""},{name:"target",type:"text",default:""}],mkdir:[{name:"target",type:"text",label:"common.Name",default:""}],steamgamedl:[{name:"appId",type:"text",default:""}],javadl:[{name:"version",type:"text",label:"templates.Version",default:""}],mojangdl:[{name:"version",type:"text",label:"templates.Version",default:""},{name:"target",type:"text",label:"templates.Filename",default:""}],forgedl:[{name:"version",type:"text",label:"templates.Version",default:""},{name:"filename",type:"text",label:"templates.Filename",default:""}],spongeforgedl:[{name:"releaseType",type:"text",default:""}],fabricdl:[{name:"targetFile",type:"text",label:"templates.Filename",default:""}]},ol={class:"list-input"},ul=["textContent"],sl=["textContent"],il=["textContent"],dl={props:{label:{type:String,default:()=>{}},addLabel:{type:String,default:()=>{}},hint:{type:String,default:()=>{}},error:{type:String,default:()=>{}},allowSwap:{type:Boolean,default:()=>!1},modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(y,{emit:m}){const c=y,{t:a}=z(),e=N([...c.modelValue]);function d(){m("update:modelValue",e)}function n(){e.value.push("")}function r(_,A){e.value[_]=A,d()}function f(_,A){const i=e.value[_];e.value[_]=e.value[A],e.value[A]=i,d()}function w(_){e.value.splice(_,1),d()}return(_,A)=>(v(),$("div",ol,[y.label?(v(),$("div",{key:0,class:"label",textContent:g(y.label)},null,8,ul)):D("",!0),y.error?(v(),$("div",{key:1,class:"error",textContent:g(y.error)},null,8,sl)):y.hint?(v(),$("div",{key:2,class:"hint",textContent:g(y.hint)},null,8,il)):D("",!0),(v(!0),$(P,null,R(e.value,(i,C)=>(v(),$("div",{key:C,class:ve(["entry",y.allowSwap?"swap":""])},[t(G,{"model-value":i,"onUpdate:modelValue":I=>r(C,I)},null,8,["model-value","onUpdate:modelValue"]),y.allowSwap?(v(),B(b,{key:0,disabled:C===0,variant:"icon",onClick:I=>f(C,C-1)},{default:p(()=>[t(V,{name:"up"})]),_:2},1032,["disabled","onClick"])):D("",!0),y.allowSwap?(v(),B(b,{key:1,disabled:C===e.value.length-1,variant:"icon",onClick:I=>f(C,C+1)},{default:p(()=>[t(V,{name:"down"})]),_:2},1032,["disabled","onClick"])):D("",!0),t(b,{variant:"icon",onClick:I=>w(C)},{default:p(()=>[t(V,{name:"remove"})]),_:2},1032,["onClick"])],2))),128)),t(b,{variant:"text",onClick:A[0]||(A[0]=i=>n())},{default:p(()=>[t(V,{name:"plus"}),J(g(y.addLabel||u(a)("common.Add")),1)]),_:1})]))}},rl={props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(y,{emit:m}){const c=y,{t:a}=z(),e=N({}),d=N(X({},c.modelValue)),n=Object.keys(le).map(_=>({value:_,label:a(`operators.${_}.generic`)}));function r(){m("update:modelValue",d.value)}function f(_){const A={type:_};d.value.if?A.if=d.value.if:A.if="",le[_].map(i=>{A[i.name]=i.default}),d.value=A,r()}function w(_){return _.label?a(_.label):a(`operators.${d.value.type}.${_.name}`)}return(_,A)=>(v(),$("div",{class:ve(["operator",e.value.isOpen?"typeselect-open":""])},[t(Y,{ref:(i,C)=>{C.typeSelect=i,e.value=i},modelValue:d.value.type,"onUpdate:modelValue":[A[0]||(A[0]=i=>d.value.type=i),f],options:u(n)},null,8,["modelValue","options"]),t(G,{modelValue:d.value.if,"onUpdate:modelValue":[A[1]||(A[1]=i=>d.value.if=i),r],label:u(a)("common.Condition"),hint:u(a)("operators.ConditionHint")},null,8,["modelValue","label","hint"]),(v(!0),$(P,null,R(u(le)[d.value.type],i=>(v(),$("div",{key:i.name},[i.type==="text"?(v(),B(G,{key:0,modelValue:d.value[i.name],"onUpdate:modelValue":[C=>d.value[i.name]=C,r],label:w(i)},null,8,["modelValue","onUpdate:modelValue","label"])):D("",!0),i.type==="boolean"?(v(),B(Z,{key:1,modelValue:d.value[i.name],"onUpdate:modelValue":[C=>d.value[i.name]=C,r],label:w(i)},null,8,["modelValue","onUpdate:modelValue","label"])):D("",!0),i.type==="textarea"?(v(),B(Oe,{key:2,id:`var-${i.name}-editor`,modelValue:d.value[i.name],"onUpdate:modelValue":[C=>d.value[i.name]=C,r],file:i.modeFile?d.value[i.modeFile]:void 0},null,8,["id","modelValue","onUpdate:modelValue","file"])):D("",!0),i.type==="list"?(v(),B(dl,{key:3,modelValue:d.value[i.name],"onUpdate:modelValue":[C=>d.value[i.name]=C,r],label:w(i),"allow-swap":""},null,8,["modelValue","onUpdate:modelValue","label"])):D("",!0)]))),128))],2))}},ml={class:"operators"},vl={class:"list"},pl=["onClick"],cl={class:"text"},fl=["textContent"],yl=["textContent"],Vl={class:"actions"},te={props:{addLabel:{type:String,default:()=>{}},modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:m}){const c=y,{t:a}=z(),e=N({}),d=N(0),n=N(!1),r=N([...c.modelValue]);Q(()=>{JSON.stringify(r.value)!==JSON.stringify(c.modelValue)&&Array.isArray(c.modelValue)&&(r.value=[...c.modelValue])});function f(){m("update:modelValue",r.value)}function w(){d.value=r.value.length,e.value={type:"command",commands:[]},n.value=!0}function _(q){d.value=q,e.value=r.value[q],n.value=!0}function A(){n.value=!1,d.value=0,e.value={}}function i(){n.value=!1,r.value[d.value]=e.value,d.value=0,e.value={},f()}function C(q,O){const E=r.value[q];r.value[q]=r.value[O],r.value[O]=E,f()}function I(q){r.value.splice(q,1),f()}return(q,O)=>(v(),$("div",ml,[k("ul",vl,[(v(!0),$(P,null,R(r.value,(E,j)=>(v(),$("li",{key:j,class:"list-item clickable"},[k("div",{class:"list-item-content",onClick:H=>_(j)},[k("div",cl,[k("span",{class:"title",textContent:g(u(nl)(u(a),E))},null,8,fl),E.if?(v(),$("span",{key:0,class:"subline",textContent:g(E.if)},null,8,yl)):D("",!0)]),t(b,{disabled:j===0,variant:"icon",onClick:L(H=>C(j,j-1),["stop"])},{default:p(()=>[t(V,{name:"up"})]),_:2},1032,["disabled","onClick"]),t(b,{disabled:j===r.value.length-1,variant:"icon",onClick:L(H=>C(j,j+1),["stop"])},{default:p(()=>[t(V,{name:"down"})]),_:2},1032,["disabled","onClick"]),t(b,{variant:"icon",onClick:L(H=>I(j),["stop"])},{default:p(()=>[t(V,{name:"remove"})]),_:2},1032,["onClick"])],8,pl)]))),128))]),t(b,{variant:"text",onClick:O[0]||(O[0]=E=>w())},{default:p(()=>[t(V,{name:"plus"}),J(g(y.addLabel||u(a)("common.Add")),1)]),_:1}),t(W,{modelValue:n.value,"onUpdate:modelValue":O[4]||(O[4]=E=>n.value=E)},{default:p(()=>[t(rl,{modelValue:e.value,"onUpdate:modelValue":O[1]||(O[1]=E=>e.value=E)},null,8,["modelValue"]),k("div",Vl,[t(b,{color:"error",onClick:O[2]||(O[2]=E=>A())},{default:p(()=>[t(V,{name:"close"}),J(g(u(a)("common.Cancel")),1)]),_:1}),t(b,{color:"primary",onClick:O[3]||(O[3]=E=>i())},{default:p(()=>[t(V,{name:"save"}),J(g(u(a)("common.Save")),1)]),_:1})])]),_:1},8,["modelValue"])]))}},bl={class:"install"},Cl=["textContent"],Bl={props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(y,{emit:m}){const c=y,{t:a}=z(),e=N(JSON.parse(c.modelValue));e.value.install||(e.value.install=[]);function d(){m("update:modelValue",JSON.stringify(e.value,void 0,4))}return Q(()=>{try{const n=JSON.parse(c.modelValue);JSON.stringify(e.value)!==JSON.stringify(n)&&(e.value=n)}catch{}}),(n,r)=>(v(),$("div",bl,[k("div",{class:"hint",textContent:g(u(a)("templates.description.Install"))},null,8,Cl),t(te,{modelValue:e.value.install,"onUpdate:modelValue":[r[0]||(r[0]=f=>e.value.install=f),r[1]||(r[1]=f=>d())],"add-label":u(a)("templates.AddInstallStep")},null,8,["modelValue","add-label"])]))}},kl={class:"hooks"},gl={class:"pre-run"},$l=["textContent"],_l=["textContent"],xl={class:"post-run"},Sl=["textContent"],Ul=["textContent"],Hl={props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(y,{emit:m}){const c=y,{t:a}=z(),e=N(JSON.parse(c.modelValue));e.value.run||(e.value.run={}),e.value.run.pre||(e.value.run.pre=[]),e.value.run.post||(e.value.run.post=[]);function d(){m("update:modelValue",JSON.stringify(e.value,void 0,4))}return Q(()=>{try{const n=JSON.parse(c.modelValue);JSON.stringify(e.value)!==JSON.stringify(n)&&(e.value=n)}catch{}}),(n,r)=>(v(),$("div",kl,[k("div",gl,[k("h2",{textContent:g(u(a)("templates.PreRunHook"))},null,8,$l),k("div",{class:"hint",textContent:g(u(a)("templates.description.PreRunHook"))},null,8,_l),t(te,{modelValue:e.value.run.pre,"onUpdate:modelValue":[r[0]||(r[0]=f=>e.value.run.pre=f),r[1]||(r[1]=f=>d())],"add-label":u(a)("templates.AddPreStep")},null,8,["modelValue","add-label"])]),k("div",xl,[k("h2",{textContent:g(u(a)("templates.PostRunHook"))},null,8,Sl),k("div",{class:"hint",textContent:g(u(a)("templates.description.PostRunHook"))},null,8,Ul),t(te,{modelValue:e.value.run.post,"onUpdate:modelValue":[r[2]||(r[2]=f=>e.value.run.post=f),r[3]||(r[3]=f=>d())],"add-label":u(a)("templates.AddPostStep")},null,8,["modelValue","add-label"])])]))}},Al={key:0,class:"list"},Ol=["onClick"],Nl={class:"text"},wl=["textContent"],El=["textContent"],Gl={class:"actions"},Pl={props:{modelValue:{type:String,required:!0}},emits:["update:modelValue","valid"],setup(y,{emit:m}){const c=y,{t:a}=z(),e=N(JSON.parse(c.modelValue)),d=N(!1),n=N(!1),r=N(0),f=N({}),w=N(i(e.value.run)),_=[{value:"command",label:a("templates.StopCommand")},{value:"signal",label:a("templates.StopSignal")}],A=[{value:"1",label:a("templates.signals.1")},{value:"2",label:a("templates.signals.2")},{value:"9",label:a("templates.signals.9")},{value:"15",label:a("templates.signals.15")}];function i(U){return U.stop||U.stop===""?"command":"signal"}function C(){const U=e.value;w.value==="signal"&&(U.run.stopCode=Number(U.run.stopCode)),m("update:modelValue",JSON.stringify(U,void 0,4))}function I(){const U=e.value;w.value==="command"?(delete U.run.stopCode,U.run.stop=""):(delete U.run.stop,U.run.stopCode="2"),e.value=U,C()}function q(){if(!e.value.run.command)e.value.run.command=[];else if(!Array.isArray(e.value.run.command)){const U=e.value.run.command;e.value.run.command=[{command:U,if:""}]}r.value=e.value.run.command.length,f.value={command:"",if:""},n.value=!0}function O(U,x){const S=e.value.run.command[U];e.value.run.command[U]=e.value.run.command[x],e.value.run.command[x]=S,C()}function E(U){e.value.run.command.splice(U,1),C()}function j(U){r.value=U,f.value=e.value.run.command[U],n.value=!0}function H(){n.value=!1,r.value=0,f.value={}}function ee(){n.value=!1,e.value.run.command[r.value]=f.value,r.value=0,f.value={},C()}function M(){d.value=!1,e.value.run.command?(Array.isArray(e.value.run.command)&&e.value.run.command.length===0||!Array.isArray(e.value.run.command)&&e.value.run.command.trim()==="")&&(d.value=!0):d.value=!0,m("valid",!d.value)}return Ae(()=>{M()}),Q(()=>{try{const U=JSON.parse(c.modelValue);JSON.stringify(e.value)!==JSON.stringify(U)&&(e.value=U,w.value=i(U.run),M())}catch{}}),(U,x)=>(v(),$("div",null,[Array.isArray(e.value.run.command)?(v(),$("ul",Al,[(v(!0),$(P,null,R(e.value.run.command,(S,h)=>(v(),$("li",{key:h,class:"list-item clickable"},[k("div",{class:"list-item-content",onClick:K=>j(h)},[k("div",Nl,[k("span",{class:"title",textContent:g(S.command)},null,8,wl),S.if?(v(),$("span",{key:0,class:"subline",textContent:g(S.if)},null,8,El)):D("",!0)]),t(b,{disabled:h===0,variant:"icon",onClick:L(K=>O(h,h-1),["stop"])},{default:p(()=>[t(V,{name:"up"})]),_:2},1032,["disabled","onClick"]),t(b,{disabled:h===e.value.run.command.length-1,variant:"icon",onClick:L(K=>O(h,h+1),["stop"])},{default:p(()=>[t(V,{name:"down"})]),_:2},1032,["disabled","onClick"]),t(b,{variant:"icon",onClick:L(K=>E(h),["stop"])},{default:p(()=>[t(V,{name:"remove"})]),_:2},1032,["onClick"])],8,Ol)]))),128))])):(v(),B(G,{key:1,modelValue:e.value.run.command,"onUpdate:modelValue":[x[0]||(x[0]=S=>e.value.run.command=S),C],icon:"start",label:u(a)("templates.Command"),hint:u(a)("templates.description.Command"),error:d.value?u(a)("templates.errors.CommandInvalid"):void 0,onBlur:x[1]||(x[1]=S=>M())},null,8,["modelValue","label","hint","error"])),t(b,{variant:"text",onClick:x[2]||(x[2]=S=>q())},{default:p(()=>[t(V,{name:"plus"}),J(g(u(a)("templates.AddCommand")),1)]),_:1}),t(G,{modelValue:e.value.run.workingDirectory,"onUpdate:modelValue":[x[3]||(x[3]=S=>e.value.run.workingDirectory=S),C],icon:"folder",label:u(a)("templates.WorkingDirectory")},null,8,["modelValue","label"]),t(Y,{modelValue:w.value,"onUpdate:modelValue":[x[4]||(x[4]=S=>w.value=S),I],options:_},null,8,["modelValue"]),w.value==="command"?(v(),B(G,{key:2,modelValue:e.value.run.stop,"onUpdate:modelValue":[x[5]||(x[5]=S=>e.value.run.stop=S),C],icon:"stop",label:u(a)("templates.StopCommand"),hint:u(a)("templates.description.StopCommand")},null,8,["modelValue","label","hint"])):(v(),B(Ne,{key:3,modelValue:e.value.run.stopCode,"onUpdate:modelValue":[x[6]||(x[6]=S=>e.value.run.stopCode=S),C],icon:"stop",label:u(a)("templates.StopSignal"),options:A,hint:u(a)("templates.description.StopSignal")},null,8,["modelValue","label","hint"])),t(pe,{modelValue:e.value.run.environmentVars,"onUpdate:modelValue":[x[7]||(x[7]=S=>e.value.run.environmentVars=S),C],label:u(a)("templates.EnvVars"),"add-label":u(a)("templates.AddEnvVar")},null,8,["modelValue","label","add-label"]),t(W,{modelValue:n.value,"onUpdate:modelValue":x[12]||(x[12]=S=>n.value=S)},{default:p(()=>[t(G,{modelValue:f.value.if,"onUpdate:modelValue":x[8]||(x[8]=S=>f.value.if=S),label:u(a)("common.Condition"),hint:u(a)("templates.CommandConditionHint")},null,8,["modelValue","label","hint"]),t(G,{modelValue:f.value.command,"onUpdate:modelValue":x[9]||(x[9]=S=>f.value.command=S),label:u(a)("templates.Command")},null,8,["modelValue","label"]),k("div",Gl,[t(b,{color:"error",onClick:x[10]||(x[10]=S=>H())},{default:p(()=>[t(V,{name:"close"}),J(g(u(a)("common.Cancel")),1)]),_:1}),t(b,{color:"primary",onClick:x[11]||(x[11]=S=>ee())},{default:p(()=>[t(V,{name:"save"}),J(g(u(a)("common.Save")),1)]),_:1})])]),_:1},8,["modelValue"])]))}};export{Tl as _,Bl as a,Pl as b,Hl as c};
//# sourceMappingURL=RunConfig-a666fd53.js.map
