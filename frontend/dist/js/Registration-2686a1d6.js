import{l as j,k as w,H as q,r as n,o as I,h as L,q as N,t as V,s as l,C as t}from"./vendor-943aface.js";import{_ as d,a as k,d as S}from"./index-b96ce60d.js";const D={class:"register"},H=["textContent"],G={setup(z){const{t:o}=j(),g=w("api"),P=w("events"),s=w("validate"),x=q(),u=n(""),i=n(""),a=n(""),v=n(""),m=n(""),f=n(""),p=n(""),C=n("");function $(){return v.value===a.value}function E(){s.username(u.value)||(m.value=o("errors.ErrUsernameRequirements"))}function U(){s.email(i.value)||(f.value=o("errors.ErrEmailInvalid"))}function B(){s.password(a.value)||(p.value=o("errors.ErrPasswordRequirements"))}function y(){$()||(C.value=o("errors.ErrPasswordsNotIdentical"))}function b(){return s.username(u.value)&&s.email(i.value)&&s.password(a.value)&&$()}async function R(){!b()||(await g.auth.register(u.value,i.value,a.value),x.push(S(g)),P.emit("login"))}return(c,e)=>(I(),L("div",D,[N("h1",{textContent:V(l(o)("users.Register"))},null,8,H),t(d,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),autofocus:"",label:l(o)("users.Username"),icon:"account",error:m.value,onChange:e[1]||(e[1]=r=>m.value=""),onBlur:e[2]||(e[2]=r=>E())},null,8,["modelValue","label","error"]),t(d,{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=r=>i.value=r),type:"email",label:l(o)("users.Email"),icon:"email",error:f.value,onChange:e[4]||(e[4]=r=>f.value=""),onBlur:e[5]||(e[5]=r=>U())},null,8,["modelValue","label","error"]),t(d,{modelValue:a.value,"onUpdate:modelValue":e[6]||(e[6]=r=>a.value=r),type:"password",label:l(o)("users.Password"),icon:"lock",error:p.value,onChange:e[7]||(e[7]=r=>p.value=""),onBlur:e[8]||(e[8]=r=>B())},null,8,["modelValue","label","error"]),t(d,{modelValue:v.value,"onUpdate:modelValue":e[9]||(e[9]=r=>v.value=r),type:"password",label:l(o)("users.ConfirmPassword"),icon:"lock",error:C.value,onChange:e[10]||(e[10]=r=>C.value=""),onBlur:e[11]||(e[11]=r=>y())},null,8,["modelValue","label","error"]),t(k,{color:"primary",disabled:!b(),onClick:e[12]||(e[12]=r=>R()),textContent:V(l(o)("users.Register"))},null,8,["disabled","textContent"]),t(k,{variant:"text",onClick:e[13]||(e[13]=r=>c.$router.push({name:"Login"})),textContent:V(l(o)("users.LoginLink"))},null,8,["textContent"])]))}};export{G as default};
//# sourceMappingURL=Registration-2686a1d6.js.map
