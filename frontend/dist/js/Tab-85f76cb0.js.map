{"version":3,"file":"Tab-85f76cb0.js","sources":["../../src/components/ui/Tabs.vue","../../src/components/ui/Tab.vue"],"sourcesContent":["<script>\nimport { ref, onMounted, onUnmounted, provide, nextTick } from 'vue'\nimport Icon from './Icon.vue'\n\nexport default {\n  components: {\n    Icon\n  },\n  props: {\n    anchors: { type: Boolean, default: () => false }\n  },\n  emits: ['tabChanged'],\n  setup(props, { slots, emit }) {\n    const tabButtons = ref(null)\n    const needsScroller = ref(false)\n\n    const tabs = ref([])\n    const activeKey = ref('')\n    provide('activeKey', activeKey)\n\n    function setActive(key) {\n      activeKey.value = key\n\n      if (props.anchors) {\n        history.replaceState(history.state, '', '#' + key)\n      }\n\n      // deferring emit to next tick to ensure the tab content has changed\n      nextTick(() => emit('tabChanged', key))\n    }\n\n    function onResize() {\n      needsScroller.value = tabButtons.value.scrollWidth > tabButtons.value.offsetWidth\n    }\n\n    function scroll(dir) {\n      const dist = (tabButtons.value.offsetWidth / 2)\n      tabButtons.value.scrollTo({\n        behavior: 'smooth',\n        left: tabButtons.value.scrollLeft + (dir === 'right' ? dist : dist * -1)\n      })\n    }\n\n    onMounted(() => {\n      window.addEventListener('resize', onResize)\n      nextTick(() => onResize())\n\n      tabs.value = slots\n        .default()\n        .filter(e => e && e.props && e.props.title)\n        .map(e => {\n          return {\n            key: e.props.id || e.props.title.toLowercase().replace(/ /g, '-'),\n            title: e.props.title,\n            icon: e.props.icon,\n            hotkey: e.props.hotkey\n          }\n        })\n\n      if (props.anchors && tabs.value.length > 0 && location.hash) {\n        const tab = tabs.value.find(e => e.key === location.hash.substring(1))\n        if (tab) setActive(tab.key)\n      }\n\n      if (tabs.value.length > 0 && !activeKey.value) {\n        setActive(tabs.value[0].key)\n      }\n    })\n\n    onUnmounted(() => {\n      window.removeEventListener('resize', onResize)\n    })\n\n    return { tabButtons, needsScroller, tabs, activeKey, setActive, scroll }\n  }\n}\n</script>\n\n<template>\n  <div class=\"tabs\">\n    <div v-if=\"needsScroller\" class=\"scroll-left\" @click=\"scroll('left')\" />\n    <div v-if=\"needsScroller\" class=\"scroll-right\" @click=\"scroll('right')\" />\n    <div ref=\"tabButtons\" class=\"tab-buttons\">\n      <div\n        v-for=\"tab in tabs\"\n        :key=\"tab.key\"\n        v-hotkey=\"tab.hotkey\"\n        :class=\"['tab-button', tab.key === activeKey ? 'active' : 'inactive', tab.icon ? 'has-icon' : '']\"\n        @click=\"setActive(tab.key)\"\n      >\n        <icon v-if=\"tab.icon\" :name=\"tab.icon\" />\n        <span class=\"title\" v-text=\"tab.title\" />\n      </div>\n    </div>\n    <slot />\n  </div>\n</template>\n","<script setup>\nimport { inject } from 'vue'\n\nconst props = defineProps({\n  title: { type: String, required: true },\n  icon: { type: String, default: () => undefined },\n  id: { type: String, default: () => undefined }\n})\n\nconst activeKey = inject('activeKey')\nconst key = props.id || props.title.toLowercase().replace(/ /g, '-')\n</script>\n\n<template>\n  <div :id=\"id\" :class=\"['tab', key === activeKey ? 'active' : 'inactive']\">\n    <slot />\n  </div>\n</template>\n"],"names":["Icon","_withDirectives","_normalizeClass"],"mappings":"6NAIA,SACE,WAAY,MACVA,GAEF,MAAO,CACL,QAAS,CAAE,KAAM,QAAS,QAAS,IAAM,KAE3C,MAAO,CAAC,cACR,MAAM,EAAO,CAAE,QAAO,QAAQ,CAC5B,KAAM,GAAa,EAAI,MACjB,EAAgB,EAAI,IAEpB,EAAO,EAAI,IACX,EAAY,EAAI,IACtB,EAAQ,YAAa,GAErB,WAAmB,EAAK,CACtB,EAAU,MAAQ,EAEd,EAAM,SACR,QAAQ,aAAa,QAAQ,MAAO,GAAI,IAAM,GAIhD,EAAS,IAAM,EAAK,aAAc,IAGpC,YAAoB,CAClB,EAAc,MAAQ,EAAW,MAAM,YAAc,EAAW,MAAM,YAGxE,WAAgB,EAAK,CACnB,KAAM,GAAQ,EAAW,MAAM,YAAc,EAC7C,EAAW,MAAM,SAAS,CACxB,SAAU,SACV,KAAM,EAAW,MAAM,WAAc,KAAQ,QAAU,EAAO,EAAO,MAIzE,SAAU,IAAM,CAgBd,GAfA,OAAO,iBAAiB,SAAU,GAClC,EAAS,IAAM,KAEf,EAAK,MAAQ,EACV,UACA,OAAO,GAAK,GAAK,EAAE,OAAS,EAAE,MAAM,OACpC,IAAI,GACI,EACL,IAAK,EAAE,MAAM,IAAM,EAAE,MAAM,MAAM,cAAc,QAAQ,KAAM,KAC7D,MAAO,EAAE,MAAM,MACf,KAAM,EAAE,MAAM,KACd,OAAQ,EAAE,MAAM,UAIlB,EAAM,SAAW,EAAK,MAAM,OAAS,GAAK,SAAS,KAAM,CAC3D,KAAM,GAAM,EAAK,MAAM,KAAK,GAAK,EAAE,MAAQ,SAAS,KAAK,UAAU,IACnE,AAAI,GAAK,EAAU,EAAI,KAGzB,AAAI,EAAK,MAAM,OAAS,GAAK,CAAC,EAAU,OACtC,EAAU,EAAK,MAAM,GAAG,OAI5B,EAAY,IAAM,CAChB,OAAO,oBAAoB,SAAU,KAGhC,CAAE,aAAY,gBAAe,OAAM,YAAW,YAAW,+BAS3C,CAAC,IAAK,8KAFD,IAAK,EAAgB,MAAK,iGAC1B,IAAK,EAAiB,MAAK,4GAI3CC,gBAEL,IAAK,MACL,MAAKC,8GAEM,kBAAW,8UCjFzB,EAAY,EAAO,aACnB,EAAM,EAAM,IAAM,EAAM,MAAM,cAAc,QAAQ,KAAM"}